var Quiz=function(){function e(e){var t=JSON.parse(e);this.questions=t.questions,this.lang=t.lang,this.index=0,this.score=0,this.hints=0}function t(e,s,n){var i=Math.floor(Math.random()*(s-e+1))+e;return n.indexOf(i)>-1?t(e,s,n):i}return e.prototype.populate=function(){if(0==this.index){for(var e=this.questions.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),s=this.questions[e];this.questions[e]=this.questions[t],this.questions[t]=s}document.getElementById("next-question").innerText=this.lang.nextquestion}document.getElementById("description").classList.add("hidden"),document.getElementById("next-question").classList.add("hidden"),document.getElementById("question-options").classList.remove("hidden");var n=document.getElementById("hint");n.classList.remove("hidden"),this.hints<.3*this.questions.length?(n.classList.remove("btn-secondary"),n.classList.add("btn-primary"),n.disabled=!1,n.title=this.lang.hintnotused.replace("%s",Math.round(.3*this.questions.length)-this.hints)):(n.classList.remove("btn-primary"),n.classList.add("btn-secondary"),n.disabled=!0,n.title=this.lang.hintsfinished);var i=this.questions[this.index];document.getElementById("question-header").innerText=i.prompt,document.getElementById("question-index").innerText=this.lang.questionindex.replace("%s",this.index+1);var d=["a","b","c","d"];for(e=0;e<d.length;e++){var o=document.getElementById(d[e]);o.innerText=i.options[e],o.classList.remove("btn-danger"),o.classList.add("btn-primary"),o.disabled=!1}var a=document.getElementById("question-options");for(e=a.children.length;e>=0;e--)a.appendChild(a.children[Math.random()*e|0])},e.prototype.check=function(e){var t=document.getElementById("description"),s=document.getElementById("description-header"),n=document.getElementById("description-body"),i=document.getElementById("next-question"),d=document.getElementById("submit"),o=document.getElementById("submit-score"),a=document.getElementById("submit-btn"),r=this.questions[this.index],c=["a","b","c","d"];r.options[c.indexOf(e)],r.options[c.indexOf(r.answer)],document.getElementById("hint").classList.add("hidden"),document.getElementById("question-options").classList.add("hidden"),t.classList.remove("hidden"),t.classList.remove("bg-success"),t.classList.remove("bg-danger"),i.classList.remove("btn-success"),i.classList.remove("btn-danger"),n.innerHTML=r.description,r.answer==e?(this.score++,s.innerText=this.lang.descriptioncorrect,t.classList.add("bg-success"),this.index==this.questions.length-1?(d.classList.remove("hidden"),o.value=this.score,a.classList.add("btn-success")):(i.classList.remove("hidden"),i.classList.add("btn-success"))):(s.innerText=this.lang.descriptionwrong,t.classList.add("bg-danger"),this.index==this.questions.length-1?(d.classList.remove("hidden"),o.value=this.score,a.classList.add("btn-danger")):(i.classList.remove("hidden"),i.classList.add("btn-danger")))},e.prototype.hint=function(){this.hints++,this.score-=.5;var e=this.questions[this.index],s=document.getElementById("hint"),n=["a","b","c","d"],i=n.length-1,d=t(0,i,[n.indexOf(e.answer)]),o=t(0,i,[n.indexOf(e.answer),d]),a=document.getElementById(n[d]),r=document.getElementById(n[o]);a.classList.remove("btn-primary"),r.classList.remove("btn-primary"),a.classList.add("btn-danger"),r.classList.add("btn-danger"),a.disabled=!0,r.disabled=!0,s.classList.remove("btn-primary"),s.classList.add("btn-secondary"),s.disabled=!0,s.title=this.lang.hintused.replace("%s",Math.round(.3*questions.length)-hints)},e.prototype.next=function(){this.index++,this.populate()},e}();